import random
import time

questions = 0
correct = 0
incorrect = 0
name = input("What is your name?\n")
hirigana = {
    "あ": "a",
    "い": "i",
    "う": "u",
    "え": "e",
    "お": "o",
    "か": "ka",
    "き": "ki",
    "く": "ku",
    "け": "ke",
    "こ": "ko",
    "さ": "sa",
    "し": "shi",
    "す": "su",
    "せ": "se",
    "そ": "so",
    "た": "ta",
    "ち": "chi",
    "つ": "tsu",
    "て": "te",
    "と": "to",
    "な": "na",
    "に": "ni",
    "ぬ": "nu",
    "ね": "ne",
    "の": "no",
    "は": "ha",
    "ひ": "hi",
    "ふ": "fu",
    "へ": "he",
    "ほ": "ho",
    "ま": "ma",
    "み": "mi",
    "む": "mu",
    "め": "me",
    "も": "mo",
    "や": "ya",
    "ゆ": "yu",
    "よ": "yo",
    "ら": "ra",
    "り": "ri",
    "る": "ru",
    "れ": "re",
    "ろ": "ro",
    "わ": "wa",
    "を": "wo",
    "ん": "n",
    "a": "あ",
    "i": "い",
    "u": "う",
    "e": "え",
    "o": "お",
    "ka": "か",
    "ki": "き",
    "ku": "く",
    "ke": "け",
    "ko": "こ",
    "sa": "さ",
    "shi": "し",
    "su": "す",
    "se": "せ",
    "so": "そ",
    "ta": "た",
    "chi": "ち",
    "tsu": "つ",
    "te": "た",
    "to": "と",
    "na": "な",
    "ni": "に",
    "nu": "ぬ",
    "ne": "ね",
    "no": "の",
    "ha": "は",
    "hi": "ひ",
    "fu": "ふ",
    "he": "へ",
    "ho": "ほ",
    "ma": "ま",
    "mi": "み",
    "mu": "む",
    "me": "め",
    "mo": "も",
    "ya": "や",
    "yu": "ゆ",
    "yo": "よ",
    "ra": "ら",
    "ri": "り",
    "ru": "る",
    "re": "れ",
    "ro": "ろ",
    "wa": "わ",
    "wo": "を",
    "n": "ん",
}


jp_en = [
    "a",
    "i",
    "u",
    "e",
    "o",
    "ka",
    "ki",
    "ku",
    "ke",
    "ko",
    "sa",
    "shi",
    "su",
    "se",
    "so",
    "ta",
    "chi",
    "tsu",
    "te",
    "to",
    "na",
    "ni",
    "nu",
    "ne",
    "no",
    "ha",
    "hi",
    "fu",
    "he",
    "ho",
    "ma",
    "mi",
    "mu",
    "me",
    "mo",
    "ya",
    "yu",
    "yo",
    "ra",
    "ri",
    "ru",
    "re",
    "ro",
    "wa",
    "wo",
    "n",
]


while True:
    print("\n" * 100)
    character_en = random.choice(jp_en)
    character_jp = hirigana[character_en]
    guess = input(
        f"Question {questions + 1}\nWhat character is this: {character_jp}\nType 'end' at any point to exit.\n\n"
    ).lower()
    if questions == 0:
        results = f"Questions: {questions}\nCorrect Answers: {correct}\nIncorrect Answers: {incorrect}\nScore Percentage: Unavalable"
    else:
        results = f"Questions: {questions}\nCorrect Answers: {correct}\nIncorrect Answers: {incorrect}\nScore Percentage: {round(correct/questions*100)}%"
    if guess == character_en:
        print("\nThat is correct!")
        correct += 1
        questions += 1
        time.sleep(1.5)
    elif guess == "end":
        print("\n" * 100)
        break
    else:
        print(f"\nNice try, but the answer was '{character_en}'.")
        incorrect += 1
        questions += 1
        time.sleep(1.5)

input(
    f"Thank you for participating, {name}!\nHere is how you did:\n\n{results}\n\nPress enter to exit."
)
if name.lower() != "test":
    with open("Results", "a") as file:
        file.write(f"Name: {name}\n{results}\n\n")
print("\n" * 100)
